<div class="topbar" [class.darkMode]="darkMode">
  <h1>{{ title }}</h1>
  <div class="actions">
    <div class="action">
      <i class="pi pi-envelope"></i>
    </div>
    <div class="action">
      <i class="pi pi-users"></i>
    </div>
    <div class="action">
      <i (click)="settings.toggle($event)" class="pi pi-sliders-h"></i>
    </div>
    <div class="action">
      <i class="pi pi-user"></i>
    </div>
  </div>
</div>

<p-overlayPanel #settings>
  <ng-template pTemplate>
    <div class="settings">
      <h1>Settings</h1>
      <div
        class="setting"
        *ngIf="selectedLanguage$ | async as selectedLanguage"
      >
        <p>Language</p>
        {{ selectedLanguage | json }}
        <!-- <p-dropdown
          [options]="languageOptions"
          [ngModel]="selectedLanguage"
          optionLabel="value"
          optionValue="value"
          (onChange)="setLanguage($event)"
        ></p-dropdown> -->
      </div>
      <div class="setting">
        <p>Dark mode</p>
        <p-toggleButton
          [(ngModel)]="darkMode"
          (onChange)="toggleDarkMode($event)"
          onIcon="pi pi-check"
          offIcon="pi pi-times"
          [style]="{ width: '2rem', height: '.5rem' }"
        ></p-toggleButton>
      </div>
    </div>
  </ng-template>
</p-overlayPanel>
